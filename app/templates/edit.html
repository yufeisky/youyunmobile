<ion-view view-title="故事" class="editPage" hide-back-button=false>
    <!-- <button ng-click="$ionicGoBack()" class="button back-button homeDetailBtn"><i class="icon icon-upalapp-back "><span class="path1"></span><span class="path2"></span></i>
    <span class="back-text" style="transform: translate3d(0px, 0px, 0px);"></span></button>
 -->
    <ion-nav-bar>
        <!-- 自定义的后退按钮 -->
        <ion-nav-buttons side="left">
            <button class="button-clear " ng-click="goBackView()">
                <i class="ion-chevron-left"></i> 后退
            </button>
        </ion-nav-buttons>
    </ion-nav-bar>
    <ion-nav-title>
        故事
    </ion-nav-title>
    <ion-content scroll="false" lazy-scroll class="storySlideBox ">
        <ion-slide-box show-pager="false" active-slide="myActiveSlide" delegate-handle="sectionBox" style="opacity:{{opacity}}">
            <ion-slide ng-repeat="page in pages" class="editSlide">
                <div class="storyPage" ng-bind-html="page.content|trustHtml" page_id="{{page.id}}">
                    <!-- {{page.content}} -->
                </div>
            </ion-slide>
        </ion-slide-box>
        <!-- <div ng-if="!more">无更多数据</div> -->
        <!-- </div> -->
        <!-- <div ng-if="!logined">
            <button ng-click="openLoginModal()">登录</button>
        </div> -->
        <div class="editBox">
            <a class="btn imgElementText" href="javascript:;" ng-click="openImgEditModal()">更换</a>
            <a class="btn editElementText" href="javascript:;" ng-click="openTextEditModal()">编辑</a>
            <a class="btn" href="javascript:;" ng-click="copyElement()">复制</a>
            <a class="btn delElement" ng-click="delElement()" href="javascript:;">删除</a>
            <a class="btn" href="javascript:;" ng-click="upElement()">上一层</a>
            <a class="btn" href="javascript:;" ng-click="downElement()"> 下一层</a>
            <div class="triangle-up">
                <!--向上的三角-->
            </div>
            <div class="triangle-down">
                <!--向下的三角-->
            </div>
        </div>
        <div class="virtualSaveBtn" style="position:absolute;z-index:1; left:-2000px;" ng-click="virtualSave()">保存</div>
    </ion-content>
    <div class="footer">
        <ul class="appEdit" ng-class="{'appEditHide': visible}">
            <li><i class="icon ion-star"></i>更换背景音乐</li>
            <li ng-click="openBackEditModal()"><i class="icon ion-star"></i>更换背景图片</li>
            <li><i class="icon ion-star"></i>插入图片</li>
            <li><i class="icon ion-star"></i>插入文字</li>
        </ul>
        <ion-tabs class="tabs-icon-top myEditTab">
            <ion-tab title="保存" icon="icon-edit-baochun" nav-transition="ios" ng-click="storySave()">
            </ion-tab>
            <!-- ng-click="cancelOperation()" -->
            <ion-tab title="撤销" icon="ion-reply" nav-transition="ios">
            </ion-tab>
            <ion-tab title="模板" icon="icon-upalapp-zhizuo-off" nav-transition="ios">
            </ion-tab>
            <ion-tab title="页面" icon="icon-upalapp-shouye-off" nav-transition="ios">
            </ion-tab>
            <ion-tab class="appEditIcon" icon="ion-navicon-round" nav-transition="ios" ng-click="toggle()">
            </ion-tab>
        </ion-tabs>
        <!-- 文字的编辑栏目（底下的编辑栏） -->
        <ion-tabs class="tabs-icon-top textEditTab" ng-class="{'textEditHide': textEditHide}">
            <ion-tab title="样式" icon="icon-edit-baochun" nav-transition="ios" ng-click="textStyleEditShowFn()">
            </ion-tab>
            <!-- ng-click="cancelOperation()" -->
            <ion-tab title="字体" icon="ion-reply" nav-transition="ios">
            </ion-tab>
            <ion-tab title="字号" icon="icon-upalapp-zhizuo-off" nav-transition="ios">
            </ion-tab>
            <ion-tab title="字色" icon="icon-upalapp-shouye-off" nav-transition="ios">
            </ion-tab>
            <ion-tab title="对齐" icon="icon-upalapp-shouye-off" nav-transition="ios">
            </ion-tab>
        </ion-tabs>
        <!-- 文字样式修改：粗体 斜体 下划线 -->
        <div class="textStyleEdit" ng-class="{'textStyleEditShow':textStyleEditShow}">
            <div class="fontType row">
                <div class="col col-20 col-offset-20 active setfontWeightBtn" ng-click="setFontWeightFn()">
                    <i class="icon ion-social-bitcoin"></i>
                    <p>粗体</p>
                </div>
                <div class="col col-20 setFontStyleBtn" ng-click="setFontStyleFn()">
                    <i class="icon ion-social-bitcoin"></i>
                    <p>斜体</p>
                </div>
                <div class="col col-20 setTextDecorationBtn" ng-click="setTextDecorationFn()">
                    <i class="icon ion-social-bitcoin"></i>
                    <p>下划线</p>
                </div>
            </div>
            <div class="cancelAndSureArea row">
                <div class="col col-10" ng-click="textStyleCancelFn()"><i class="icon ion-close-round"></i></div>
                <div class="col col-80">文字样式</div>
                <div class="col col-10" ng-click="textStyleSureFn()"><i class="icon ion-checkmark-round"></i></div>
            </div>
        </div>
    </div>
</ion-view>
